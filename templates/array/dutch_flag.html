<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dutch National Flag - Learn from Zero to Hero</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

body {
  font-family: 'Poppins', sans-serif;
  background: #1E1E2F;
  color: #fff;
  margin: 0;
  padding: 20px;
}

h1,h2,h3 { text-align: center; }

h1 {
  color: #FF6F61;
  text-shadow: 0 0 10px #FF9A8B;
}

.panel {
  background: #2C2C54;
  padding: 20px;
  border-radius: 15px;
  margin: 20px auto;
  max-width: 1000px;
  box-shadow: 0 0 20px rgba(255,111,97,0.3);
}

.array-container {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  margin: 15px 0;
}

.box {
  width: 50px;
  height: 50px;
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  font-size: 1.2rem;
  box-shadow: 0 0 5px rgba(0,0,0,0.5);
  transition: all 0.3s ease;
  position: relative;
}

.color-0 { background: #FF6F61; }
.color-1 { background: #6BCB77; }
.color-2 { background: #4D96FF; }

.pointer {
  position: absolute;
  top: -20px;
  font-size: 0.8rem;
  font-weight: bold;
}

.controls {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 10px;
}

input, button {
  padding: 10px 15px;
  border-radius: 8px;
  border: none;
  font-size: 1rem;
}

input {
  width: 120px;
  text-align: center;
  background: #3B3B98;
  color: #fff;
}

button {
  background: #FF6F61;
  color: #1E1E2F;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

button:hover {
  background: #FF9A8B;
  transform: scale(1.05);
}

.explanation {
  background: #2C2C54;
  padding: 15px 20px;
  border-radius: 12px;
  color: #F0F0F0;
  font-size: 1rem;
  line-height: 1.5;
  max-height: 400px;
  overflow-y: auto;
}

.step {
  border-left: 4px solid #FF6F61;
  padding: 8px 15px;
  margin: 8px 0;
  background: #1C1C38;
  border-radius: 6px;
  animation: fadeIn 0.4s ease;
}

.step-number { font-weight: bold; color: #FF9A8B; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px);}
  to { opacity: 1; transform: translateY(0);}
}

.legend {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 15px;
}

.legend span {
  display: flex;
  align-items: center;
  gap: 5px;
}

.legend-box {
  width: 20px;
  height: 20px;
  border-radius: 4px;
}

.practice {
  background: #1C1C38;
  padding: 15px;
  border-radius: 12px;
  margin-top: 15px;
}

.practice a {
  color: #FF9A8B;
  text-decoration: none;
}

.practice a:hover {
  text-decoration: underline;
}

.fun-facts {
  background: #1C1C38;
  padding: 15px;
  border-radius: 12px;
  margin-top: 15px;
}

</style>
</head>
<body>

<h1>üá≥üá± Dutch National Flag - Learn from Zero to Hero</h1>

<div class="panel">
  <h2>üìò What is the Dutch National Flag Problem?</h2>
  <p>This problem is about sorting an array containing only <b>0s, 1s, and 2s</b> in a single pass. Imagine the Dutch national flag with red, white, and blue stripes ‚Äî we want to arrange the numbers in order (0 ‚Üí 1 ‚Üí 2).</p>
</div>

<div class="panel">
  <h2>üõ†Ô∏è How We Solve It</h2>
  <ul>
    <li>Use three pointers: <b>low</b>, <b>mid</b>, <b>high</b>.</li>
    <li>Rules:</li>
    <ul>
      <li>If <b>arr[mid] == 0</b> ‚Üí swap with arr[low], move <b>low</b> and <b>mid</b> forward.</li>
      <li>If <b>arr[mid] == 1</b> ‚Üí do nothing, just move <b>mid</b> forward.</li>
      <li>If <b>arr[mid] == 2</b> ‚Üí swap with arr[high], move <b>high</b> backward.</li>
    </ul>
    <li>Repeat until <b>mid > high</b>.</li>
  </ul>
</div>

<div class="panel">
  <div class="legend">
    <span><div class="legend-box color-0"></div> 0</span>
    <span><div class="legend-box color-1"></div> 1</span>
    <span><div class="legend-box color-2"></div> 2</span>
  </div>

  <div class="array-container" id="arrayContainer"></div>

  <div class="controls">
    <button id="randomBtn">üé≤ Random Array</button>
    <button id="manualBtn">‚úèÔ∏è Enter Array</button>
    <button id="nextBtn">‚ñ∂Ô∏è Next Step</button>
    <button id="resetBtn">üîÑ Reset</button>
  </div>
</div>

<div class="panel explanation" id="explanation">
  <div class="step"><div class="step-number">Intro:</div> Press <b>Next Step</b> to see how the algorithm works visually!</div>
</div>

<div class="panel practice">
  <h3>üíª Practice Problems</h3>
  <ul>
    <li>LeetCode: <a href="https://leetcode.com/problems/sort-colors/" target="_blank">75. Sort Colors</a></li>
    <li>Hackerrank: <a href="https://www.hackerrank.com/challenges/dutch-national-flag/problem" target="_blank">Dutch National Flag Problem</a></li>
    <li>Codeforces: <a href="https://codeforces.com/problemset?tags=implementation" target="_blank">Implementation Tag Problems</a></li>
  </ul>
</div>

<div class="panel fun-facts">
  <h3>üéâ Fun Facts & Tips</h3>
  <ul>
    <li>This algorithm is a variant of <b>one-pass partitioning</b> used in QuickSort.</li>
    <li>It is also called <b>3-way partitioning</b>.</li>
    <li>You can extend this for <b>k colors</b> using a generalized pointer approach.</li>
    <li>It‚Äôs an excellent problem for learning in-place swaps and pointer manipulations.</li>
  </ul>
</div>

<script>
let arr = [];
let low=0, mid=0, high=0;
let stepCount = 1;

const container = document.getElementById("arrayContainer");
const explanation = document.getElementById("explanation");

function renderArray() {
  container.innerHTML = "";
  arr.forEach((val, idx)=>{
    const box = document.createElement("div");
    box.className = "box color-" + val;
    box.textContent = val;

    if(idx === low) {
      const p = document.createElement("div"); p.className="pointer"; p.textContent="low"; box.appendChild(p);
    }
    if(idx === mid) {
      const p = document.createElement("div"); p.className="pointer"; p.textContent="mid"; box.appendChild(p);
    }
    if(idx === high) {
      const p = document.createElement("div"); p.className="pointer"; p.textContent="high"; box.appendChild(p);
    }

    container.appendChild(box);
  });
}

function addStep(text){
  const div = document.createElement("div");
  div.className = "step";
  div.innerHTML = `<div class='step-number'>Step ${stepCount++}:</div> ${text}`;
  explanation.appendChild(div);
  explanation.scrollTop = explanation.scrollHeight;
}

function randomArray(size=10){
  arr = Array.from({length:size}, ()=> Math.floor(Math.random()*3));
  resetState();
}

function manualArray(){
  const input = prompt("Enter numbers (0,1,2) separated by commas:");
  if(!input) return;
  arr = input.split(",").map(Number);
  resetState();
}

function resetState(){
  low = 0; mid = 0; high = arr.length-1;
  stepCount = 1;
  explanation.innerHTML="";
  addStep("New Dutch National Flag session started.");
  renderArray();
}

function nextStep(){
  if(arr.length === 0) return;
  if(mid > high){
    addStep(`‚úÖ Sorting complete! Final array: [${arr.join(", ")}]`);
    renderArray();
    return;
  }
  let val = arr[mid];
  if(val === 0){
    addStep(`arr[mid]=0 ‚Üí Swap arr[low] (${arr[low]}) and arr[mid] (${arr[mid]}). Move low & mid forward.`);
    [arr[low], arr[mid]]=[arr[mid], arr[low]];
    low++; mid++;
  } else if(val === 1){
    addStep(`arr[mid]=1 ‚Üí Correct position, move mid forward.`);
    mid++;
  } else {
    addStep(`arr[mid]=2 ‚Üí Swap arr[mid] (${arr[mid]}) and arr[high] (${arr[high]}). Move high backward.`);
    [arr[mid], arr[high]]=[arr[high], arr[mid]];
    high--;
  }
  renderArray();
}

document.getElementById("randomBtn").addEventListener("click", ()=>randomArray());
document.getElementById("manualBtn").addEventListener("click", manualArray);
document.getElementById("nextBtn").addEventListener("click", ()=>nextStep());
document.getElementById("resetBtn").addEventListener("click", resetState);

randomArray();
</script>

</body>
</html>
